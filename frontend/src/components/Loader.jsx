import { motion } from "framer-motion";

const SvgLoader = ({ size = 150 }) => {
  // Path variants for animation
  const pathVariants = {
    hidden: {
      pathLength: 0,
      opacity: 0,
    },
    visible: {
      pathLength: 1,
      opacity: 1,
      transition: {
        pathLength: { type: "spring", duration: 2.5, bounce: 0 },
        opacity: { duration: 0.5 },
      },
    },
  };

  // Container variants for the pulsing effect
  const containerVariants = {
    initial: { scale: 0.8, rotate: 0 },
    animate: {
      scale: [0.8, 1, 0.8],
      rotate: [0, 10, 0],
      transition: {
        duration: 3,
        repeat: Number.POSITIVE_INFINITY,
        ease: "easeInOut",
      },
    },
  };

  return (
    <div className="loader-container">
      <motion.div
        initial="initial"
        animate="animate"
        variants={containerVariants}
        style={{ width: size, height: size }}
      >
        <motion.svg
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          xmlnsXlink="http://www.w3.org/1999/xlink"
          x="0px"
          y="0px"
          width="100%"
          height="100%"
          viewBox="0 0 920 920"
          enableBackground="new 0 0 920 920"
          xmlSpace="preserve"
        >
          {/* First path - dark teal */}
          <motion.path
            initial="hidden"
            animate="visible"
            variants={pathVariants}
            fill="none"
            stroke="#2D5A71"
            strokeWidth="8"
            strokeLinecap="round"
            strokeLinejoin="round"
            d="M592.926514,836.904419 
              C580.685486,848.943604 568.677185,860.735291 556.846924,872.702942 
              C535.091614,894.710754 508.908417,907.944946 478.288025,912.006714 
              C444.773376,916.452271 413.341370,910.015076 384.902649,891.576294 
              C376.366364,886.041565 368.911865,878.728210 361.393341,871.763733 
              C353.330505,864.295166 345.793243,856.260559 337.997101,848.502625 
              C264.789062,775.653198 191.524536,702.860291 118.393272,629.933838 
              C97.062355,608.662720 75.817574,587.289246 55.100136,565.425537 
              C44.767910,554.521606 34.002117,543.903015 26.919834,530.137634 
              C19.856535,516.409058 14.709934,502.171509 12.112927,487.058472 
              C7.738846,461.603912 10.402153,436.728394 20.088861,412.809631 
              C25.912703,398.429169 33.538422,385.032806 44.626743,373.839783 
              C91.848801,326.171539 139.001434,278.434509 186.198502,230.741501 
              C195.296417,221.547989 195.596024,221.551758 193.861343,208.779694 
              C191.558075,191.821060 188.269470,174.981308 186.440598,157.979004 
              C185.397751,148.284012 186.307709,138.364609 186.545837,128.551270 
              C186.703598,122.049896 192.773132,120.775871 196.906860,119.226616 
              C204.620041,116.335823 212.861877,114.669029 221.010025,113.187424 
              C227.007797,112.096825 229.391220,117.310074 233.143173,121.718781 
              C229.930893,122.612541 227.400589,123.129730 225.008392,124.018616 
              C218.856796,126.304398 212.670197,128.548538 206.733658,131.315796 
              C205.562851,131.861557 205.090302,134.639633 204.905212,136.450516 
              C203.302917,152.127335 205.510040,167.333511 208.630234,182.804031 
              C212.555710,202.267548 214.401901,222.204330 216.245438,242.020615 
              C218.720078,268.620544 225.881149,294.026947 234.288040,319.168793 
              C238.706345,332.382233 235.939850,332.807678 252.906494,332.969452 
              C280.144104,333.229095 307.054413,330.158356 333.560211,323.888245 
              C337.556427,322.942932 341.380127,321.046661 345.097595,319.213165 
              C348.218719,317.673828 349.802734,318.129028 351.032440,321.543823 
              C354.184509,330.296844 357.312256,339.085663 361.071686,347.585083 
              C364.689392,355.763977 369.211151,363.538025 373.100800,371.603241 
              C376.036346,377.690094 378.538422,383.984467 381.348022,390.134094 
              C384.592224,397.235046 387.506134,404.539734 391.373352,411.292114 
              C399.221313,424.995148 404.336884,439.629181 408.212830,454.844971 
              C409.079590,458.247620 408.004150,459.492828 405.501434,461.159180 
              C389.286316,471.955627 372.963135,482.609344 357.081604,493.882172 
              C336.591339,508.426453 319.218933,526.471069 302.462708,545.028503 
              C297.158295,550.903137 292.946564,557.884216 288.993652,564.793152 
              C287.645233,567.149963 287.626373,571.270386 288.741760,573.824341 
              C291.035461,579.076355 293.558960,584.860535 297.664032,588.571533 
              C310.483490,600.160339 320.656738,613.769775 330.859589,627.541870 
              C346.706940,648.932983 363.548492,669.588623 379.350342,691.012024 
              C395.046783,712.292419 410.061249,734.098572 419.340118,759.183289 
              C422.340851,767.295532 422.045654,767.162415 415.228027,772.540283 
              C413.808441,773.660156 413.134918,776.870300 413.478729,778.884888 
              C415.047058,788.074341 417.720642,797.109070 418.791809,806.339294 
              C419.717896,814.318787 420.008057,822.648743 418.714386,830.517151 
              C417.768097,836.272644 413.980133,841.629089 411.111786,846.977356 
              C409.074524,850.775940 406.326263,854.186646 404.141174,857.914490 
              C402.184387,861.252869 401.358643,864.941528 404.234314,868.148621 
              C407.227692,871.487061 411.350525,872.216675 415.220520,870.307068 
              C419.801117,868.046692 424.614197,865.641052 428.233765,862.161682 
              C440.603363,850.270874 452.843994,838.201599 464.412109,825.540894 
              C469.835419,819.605225 473.228271,811.863770 478.230042,805.480347 
              C484.054626,798.046753 491.330017,791.685547 496.671295,783.957397 
              C501.233246,777.356812 504.055481,769.529114 507.427368,762.143799 
              C508.670044,759.421936 508.269165,756.695312 504.805328,755.807983 
              C489.808258,751.966309 478.055054,741.852051 464.557892,735.118408 
              C463.965820,734.823059 463.463562,734.124756 462.878113,734.071777 
              C451.923340,733.080872 448.130341,723.858704 443.937958,716.243042 
              C432.173096,694.871826 421.134613,673.090393 410.265564,651.243958 
              C407.728271,646.143982 406.627502,640.216980 405.520538,634.542786 
              C403.659241,625.002441 399.685944,616.584656 393.913391,608.831421 
              C388.551270,601.629395 383.510620,594.188171 377.739746,586.018921 
              C382.438538,583.982361 386.591461,581.619385 391.054932,580.339050 
              C420.270233,571.959290 446.939392,557.923462 473.422241,543.494080 
              C477.123932,541.477173 479.090546,541.827759 481.566956,545.257751 
              C503.823395,576.085327 531.028809,602.362366 558.409851,628.478699 
              C567.813782,637.448303 577.054016,646.592957 586.234558,655.791809 
              C590.754761,660.320984 595.909119,663.184998 602.306030,664.124573 
              C611.825134,665.522705 621.468933,666.596680 630.738281,669.031982 
              C641.238281,671.790649 651.599304,675.378662 661.636414,679.534180 
              C680.517090,687.351013 699.120483,695.837341 717.843628,704.034973 
              C719.341003,704.690613 720.873230,705.266785 722.840210,706.062195 
              C721.747620,707.398438 721.031860,708.438904 720.156433,709.320679 
              C682.843628,746.904846 645.523193,784.481384 608.183289,822.038635 
              C603.257568,826.993042 598.223450,831.839722 592.926514,836.904419"
          />

          {/* Second path - light teal with different animation timing */}
          <motion.path
            initial="hidden"
            animate="visible"
            variants={{
              ...pathVariants,
              visible: {
                ...pathVariants.visible,
                transition: {
                  pathLength: {
                    type: "spring",
                    duration: 3,
                    bounce: 0,
                    delay: 0.5,
                  },
                  opacity: { duration: 0.5, delay: 0.5 },
                },
              },
            }}
            fill="none"
            stroke="#60C4BF"
            strokeWidth="8"
            strokeLinecap="round"
            strokeLinejoin="round"
            d="M302.224854,273.250732 
              C295.722015,276.587646 289.433533,279.556213 283.288330,282.796570 
              C279.302216,284.898438 276.492584,284.435028 273.566650,280.705261 
              C263.327209,267.652435 256.275452,252.865204 251.369827,237.290054 
              C246.971588,223.325851 244.268005,208.804001 241.284454,194.431107 
              C240.247284,189.434662 240.332214,184.139526 240.481720,178.997589 
              C240.535156,177.159531 241.930054,175.011337 243.323105,173.612701 
              C274.252594,142.559250 305.243378,111.566704 336.280762,80.621002 
              C346.009247,70.921265 355.726013,61.197609 365.761292,51.820038 
              C394.832031,24.654581 429.588104,13.000238 469.025513,15.211106 
              C490.964203,16.440992 511.436066,23.210804 530.414917,34.187050 
              C535.845703,37.327892 540.890808,41.277275 545.664368,45.377979 
              C552.045593,50.859791 558.139893,56.699898 564.099121,62.645020 
              C657.475159,155.799789 750.815247,248.990570 844.144592,342.192139 
              C853.283997,351.318970 862.522400,360.362091 871.324829,369.807587 
              C890.658508,390.553864 902.769531,414.796967 907.112000,443.057129 
              C911.774231,473.398193 906.829529,502.111420 892.757751,528.978333 
              C887.337891,539.326538 879.852173,548.995483 871.723083,557.450378 
              C841.291748,589.101074 810.205078,620.121704 778.606567,652.146423 
              C786.737366,657.524902 795.039734,662.570801 802.840332,668.299805 
              C810.984253,674.281006 819.005737,674.893250 827.935181,670.316223 
              C835.292847,666.544861 843.017334,663.496033 850.465332,659.891785 
              C857.099731,656.681152 860.588684,657.143066 864.224182,663.217346 
              C873.153625,678.136902 878.093445,694.181396 877.124268,711.799988 
              C876.934448,715.250366 877.450195,718.739441 877.660706,722.579102 
              C874.039246,723.882324 872.711548,721.850769 871.946960,718.448669 
              C869.261047,706.498169 865.012329,695.202820 857.430176,685.397644 
              C853.657898,680.519287 851.638367,680.216187 845.935181,683.067444 
              C836.366455,687.851318 826.742188,692.523804 817.142822,697.246338 
              C811.965088,699.793640 807.060791,699.422058 802.068481,696.439148 
              C773.985840,679.659668 745.669678,663.319580 723.285950,638.629089 
              C719.178589,634.098450 712.692139,631.039795 706.722900,629.010254 
              C688.794250,622.914673 670.648743,617.420776 652.454468,612.152893 
              C634.776672,607.034607 621.165955,596.929626 611.669312,581.176819 
              C604.208069,568.800293 596.144470,556.758240 589.239441,544.082214 
              C580.898865,528.771118 575.416382,512.396729 572.907532,494.965118 
              C570.521240,478.385437 561.745911,465.130066 548.493225,455.125702 
              C542.616516,450.689392 537.405945,445.965149 532.881348,440.080017 
              C524.265564,428.873383 515.307861,417.875214 505.785370,407.435059 
              C495.800751,396.488098 492.233429,383.851868 491.847870,369.389069 
              C491.346649,350.588165 489.619232,331.823090 488.692444,313.029144 
              C488.175842,302.554199 488.082642,292.052216 488.060974,281.561890 
              C488.051544,276.997009 489.978424,274.032318 495.275482,273.399414 
              C503.855225,272.374329 512.328186,270.482788 520.889038,269.256409 
              C523.418579,268.894043 526.178406,269.180725 528.685669,269.782471 
              C541.642334,272.891876 552.957275,278.887848 562.998718,287.890533 
              C567.543945,291.965515 574.014038,293.826965 579.408936,297.032593 
              C598.785828,308.546204 614.800415,323.887512 629.136230,341.117645 
              C633.395203,346.236359 637.704834,351.321686 642.190063,356.241058 
              C646.991089,361.506927 646.857178,368.103210 647.495972,374.487457 
              C647.985657,379.381958 648.153503,384.308228 648.499756,389.217865 
              C648.568909,390.198730 648.888367,391.163635 648.939148,392.143829 
              C649.656250,405.991150 656.792297,414.473602 670.329956,417.119293 
              C671.948853,417.435699 674.289307,416.881744 675.526917,415.828400 
              C680.320740,411.748413 685.031555,407.516602 689.331299,402.927216 
              C692.857483,399.163452 696.006287,394.970764 698.770691,390.617889 
              C699.526917,389.427002 698.696899,386.784576 697.913940,385.130585 
              C691.636108,371.869415 683.859863,359.816925 674.036438,348.605316 
              C662.155945,335.046021 652.048157,319.847504 641.939514,304.842102 
              C627.432434,283.307526 610.942871,263.594055 591.823914,246.031982 
              C587.178650,241.765060 583.039368,236.951263 578.552917,232.504471 
              C577.536255,231.496811 576.127686,230.710403 574.755676,230.261902 
              C557.301331,224.556198 539.437561,220.788498 521.155884,218.947678 
              C502.018005,217.020660 482.703552,216.018982 463.819794,212.638260 
              C446.332855,209.507599 428.892029,204.061554 414.813080,192.724213 
              C405.469482,185.200043 397.776520,175.369675 398.971130,161.696686 
              C399.549957,155.071289 399.767487,148.415146 400.257996,141.781036 
              C401.965302,118.690117 386.308838,99.651787 363.263763,97.238602 
              C353.936127,96.261848 344.630646,96.693161 335.652496,99.990265 
              C320.108948,105.698425 309.532013,120.358368 309.000610,137.010849 
              C308.835907,142.173279 308.504028,147.333771 308.488068,152.495895 
              C308.481567,154.597961 308.533325,157.053833 309.558655,158.740936 
              C312.996918,164.398300 312.719421,170.106461 310.823181,176.045837 
              C310.368286,177.470688 309.929138,178.910110 309.627655,180.372681 
              C308.460205,186.036362 310.126526,189.213928 315.601593,190.495316 
              C318.732361,191.228058 320.344513,192.355942 320.038910,195.756805 
              C319.735596,199.132355 321.703430,201.050888 324.788696,201.823288 
              C328.098236,202.651855 330.410370,204.196838 331.128845,207.882019 
              C331.366760,209.102448 333.103882,209.964539 333.918915,211.152802 
              C335.418488,213.339127 337.327454,215.481293 338.017822,217.936554 
              C339.441803,223.000687 341.081482,224.194519 346.280701,222.416977 
              C349.579315,221.289246 352.773285,219.847015 356.091919,218.789734 
              C357.829163,218.236252 359.734070,218.208984 362.870209,217.754791 
              C359.329529,221.543091 356.500183,224.036896 354.335175,227.013855 
              C351.218964,231.298752 347.956482,235.669312 345.919708,240.494370 
              C343.786041,245.549057 340.626007,249.106766 336.115265,251.902679 
              C324.871490,258.871979 313.700317,265.958313 302.224854,273.250732"
          />

          {/* Animated circles that follow the paths */}
          <motion.circle
            r="12"
            fill="#2D5A71"
            initial={{ opacity: 0 }}
            animate={{
              opacity: [0, 1, 0],
              pathOffset: [0, 1],
              transition: {
                duration: 3,
                repeat: Number.POSITIVE_INFINITY,
                ease: "linear",
              },
            }}
            pathLength="1"
            pathSpacing="1"
          >
            <motion.animateMotion
              dur="3s"
              repeatCount="indefinite"
              path="M592.926514,836.904419 
                C580.685486,848.943604 568.677185,860.735291 556.846924,872.702942 
                C535.091614,894.710754 508.908417,907.944946 478.288025,912.006714 
                C444.773376,916.452271 413.341370,910.015076 384.902649,891.576294 
                C376.366364,886.041565 368.911865,878.728210 361.393341,871.763733 
                C353.330505,864.295166 345.793243,856.260559 337.997101,848.502625 
                C264.789062,775.653198 191.524536,702.860291 118.393272,629.933838 
                C97.062355,608.662720 75.817574,587.289246 55.100136,565.425537 
                C44.767910,554.521606 34.002117,543.903015 26.919834,530.137634 
                C19.856535,516.409058 14.709934,502.171509 12.112927,487.058472 
                C7.738846,461.603912 10.402153,436.728394 20.088861,412.809631"
            />
          </motion.circle>

          <motion.circle
            r="12"
            fill="#60C4BF"
            initial={{ opacity: 0 }}
            animate={{
              opacity: [0, 1, 0],
              pathOffset: [0, 1],
              transition: {
                duration: 4,
                repeat: Number.POSITIVE_INFINITY,
                ease: "linear",
                delay: 0.5,
              },
            }}
            pathLength="1"
            pathSpacing="1"
          >
            <motion.animateMotion
              dur="4s"
              repeatCount="indefinite"
              path="M302.224854,273.250732 
                C295.722015,276.587646 289.433533,279.556213 283.288330,282.796570 
                C279.302216,284.898438 276.492584,284.435028 273.566650,280.705261 
                C263.327209,267.652435 256.275452,252.865204 251.369827,237.290054 
                C246.971588,223.325851 244.268005,208.804001 241.284454,194.431107 
                C240.247284,189.434662 240.332214,184.139526 240.481720,178.997589 
                C240.535156,177.159531 241.930054,175.011337 243.323105,173.612701 
                C274.252594,142.559250 305.243378,111.566704 336.280762,80.621002"
            />
          </motion.circle>
        </motion.svg>
      </motion.div>
      <style>{`
        .loader-container {
          display: flex;
          justify-content: center;
          align-items: center;
          border-radius: 8px;
          overflow: hidden;
        }
      `}</style>
    </div>
  );
};

export default SvgLoader;
